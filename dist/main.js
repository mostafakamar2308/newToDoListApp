(()=>{let e,t=window.localStorage;t.getItem("sectionObj")?(e=JSON.parse(t.getItem("sectionObj")),console.log(e)):(e={Programming:{"Not Done":{"Productive Hero":{"Make The app":{},"Publish the app":{},"Make Money":{},"Marry ?":{}}},Done:{"Social Media Limiting app":{"Make The app":{},"Publish the app":{},"Make Money":{},"Marry ?":{}}}},"Medical School":{"Not Done":{CVS:{Anatomy:{},physiology:{},Pharmacology:{}},CNS:{Anatomy:{},physiology:{},Pathology:{}}},Done:{}},Home:{"Not Done":{"clean Bedroom":{"Make the bed":{},"Clean your desk":{},"Organize Your books":{}},cook:{"get Ingredients":{},"make Fire":{}}},Done:{}},Personal:{"Not Done":{Diary:{"10/2":{},"11/2":{}},Family:{"Talk to Sister":{},"Get mother from Grandmother":{}},Training:{"Leg Day":{},"10KM Run":{}},Friends:{"Talk to Khattab":{}}},Done:{}}},t.setItem("sectionObj",JSON.stringify(e)));let n=0;document.addEventListener("click",(function(e){!e.target.closest(".add")&&document.querySelector(".options")&&k(document.querySelector(".options")),"modal-container"===e.target.id&&k(document.querySelector("#modal-container")),"taskWindowContainer"===e.target.id&&(h(document.querySelector("#taskWindowContainer")),i(document.querySelector("main")),document.querySelector(`#${o}`).click(),document.querySelector(".add").style.display="block"),"new-task-container"===e.target.id&&h(document.querySelector("#new-task-container"))}));let o="",c="",a=0,d=0;function i(t){let n=document.createElement("section");n.classList.add("categories-list"),t.append(n),Object.keys(e).forEach((e=>{r(n,e)})),l(n),u(n,"x"),window.addEventListener("resize",u,n,"x")}function r(e,t){let n=document.createElement("div");n.textContent=`${t}`;let o=t.split(" ").join("-");n.setAttribute("id",`${o}`),s(n),e.append(n),n.addEventListener("click",m,n.path)}function l(e){let t=document.createElement("div");t.classList.add("add-section"),t.textContent="+",e.append(t),t.addEventListener("click",f)}function s(e){if(n<4){switch(n){case 0:e.classList.add("red");break;case 1:e.classList.add("orange");break;case 2:e.classList.add("yellow");break;case 3:e.classList.add("blue")}n++}else n=0,n++,e.classList.add("red")}function u(e,t){var n=e.style.overflow;if("x"==t){n&&"visible"!==n||(e.style.overflow="hidden");let t=e.clientWidth<e.scrollWidth;e.style.overflowX=1==t?"scroll":"hidden"}else if("y"==t){n&&"visible"!==n||(e.style.overflow="hidden");let t=e.clientHeight<e.scrollHeight;e.style.overflowY=1==t?"scroll":"hidden"}}function m(t){d=0,a=0,o=t.path[0].id,document.querySelector("#project-section")&&document.querySelector("#project-section").parentNode.removeChild(document.querySelector("#project-section"));let n=document.createElement("section");n.id="project-section",document.querySelector("main").append(n);let c=document.createElement("h2");c.textContent=`${t.path[0].textContent}`,n.append(c),function(t,n){let o=document.createElement("section");o.id="projects-not-done-container";let c=document.createElement("h3");e[t.path[0].textContent].hasOwnProperty("Not Done")||console.log(e),c.innerHTML="<span class='not-lol'> &#9658; </span>Not Completed",o.append(c),o.addEventListener("click",(function(){if(0==a){let n=document.querySelector(".not-lol");gsap.to(n,{duration:1,rotation:"50"}),Object.keys(e[t.path[0].textContent]["Not Done"]).forEach((e=>{p(e,o,"Not Done")})),u(document.querySelector("#project-section"),"y"),v(),a++}})),n.append(o);let i=document.createElement("section");i.id="projects-done-container";let r=document.createElement("h3");r.innerHTML="<span class='lol'> &#9658; </span>Completed",i.append(r),e[t.path[0].textContent].hasOwnProperty("Done")||(e[t.path[0].textContent].Done={}),i.addEventListener("click",(function(){0==d&&(Object.keys(e[t.path[0].textContent].Done).forEach((e=>{p(e,i,"Done")})),u(document.querySelector("#project-section"),"y"),v(),d++)})),n.append(i),v()}(t,n),g(n),u(n,"y")}function p(t,n,a){let d=document.createElement("div");d.classList.add("project");let i=document.createElement("label");if(i.textContent=t,d.append(i),d.id=t.split(" ").join("-"),n.append(d),"Not Completed"===d.parentNode.children[0].textContent){let t=document.createElement("span");t.textContent="---",t.addEventListener("click",(function(){!function(t){let n=document.createElement("span");n.classList.add("list");let c=document.createElement("span");c.textContent="Mark As Complete",c.addEventListener("click",(function(){var t,n,a;t=e[o.split("-").join(" ")]["Not Done"],n=c.parentNode.parentNode.parentNode.id.split("-").join(" "),e[o.split("-").join(" ")].Done[Object.keys(t)[0]]=t[n],p(c.parentNode.parentNode.parentNode.id.split("-").join(" "),document.querySelector("#projects-done-container"),"Done"),a=c.parentNode.parentNode.parentNode.id.split("-").join(" "),delete e[o.split("-").join(" ")]["Not Done"][a],console.log(e),h(document.querySelector(`#${c.parentNode.parentNode.parentNode.id}`))})),n.append(c),t.append(n)}(t)})),d.append(t)}s(d),d.addEventListener("click",(function(n){if("LABEL"===n.target.tagName||"DIV"===n.target.tagName){c=t;let n=getComputedStyle(d).backgroundColor;!function(){let e=document.querySelector("#project-section");gsap.to(e,{duration:1,transformOrigin:"50% 50%",rotateX:"360",opacity:"0",display:"none"})}(),setTimeout((()=>{document.querySelector("main").removeChild(document.querySelector("#project-section")),document.querySelector("main").removeChild(document.querySelector(".categories-list")),k(document.querySelector(".add"))}),1e3),function(t,n){let a=document.createElement("section");a.id="taskWindowContainer";let d=document.createElement("section");var i;d.id="task-window",a.append(d),document.querySelector("main").append(a),d.style.backgroundColor=t,i=d,gsap.from(i,{duration:1,delay:1,scale:0,opacity:0});let r=document.createElement("section");r.id="tasks-container",d.append(r),function(t){Object.keys(e[o.split("-").join(" ")][t][c.split("-").join(" ")]).forEach((e=>{C(e,t)}))}(n),N(n),u(d,"y")}(n,a)}}))}function y(){document.querySelector(".options").style.display="block"}function f(){document.querySelector("#modal-container").style.display="flex"}function S(){let n=document.querySelector("#newSectionName");document.querySelector(".categories-list").removeChild(document.querySelector(".categories-list").lastChild),r(document.querySelector(".categories-list"),n.value.charAt(0).toUpperCase()+n.value.slice(1)),l(document.querySelector(".categories-list"));let o={[n.value.charAt(0).toUpperCase()+n.value.slice(1)]:{Done:{},"Not Done":{}}};var c,a;c=e,a=o,Object.assign(c,a),t.setItem("sectionObj",JSON.stringify(c)),console.log(t),console.log(c),n.value="",k(document.querySelector("#modal-container")),u(document.querySelector(".categories-list","x"))}function g(e){let t=document.createElement("div");t.textContent="Start New Project",t.classList.add("new-project"),t.addEventListener("click",E),e.append(t)}function E(){document.querySelector("h2").textContent,document.querySelector(".project-modal").style.display="flex"}function h(e){e.parentNode.removeChild(e)}function k(e){e.style.display="none"}function v(){let e=2;document.querySelectorAll(".project").forEach((t=>{e%2==0?(t.classList.add("left"),e++):(t.classList.add("right"),e++)})),gsap.from(".left",{duration:.5,opacity:0,x:-400,stagger:1,ease:"ease"}),gsap.from(".right",{duration:.5,delay:.5,x:400,opacity:0,ease:"ease",stagger:1})}function C(t,n){let a=document.createElement("div");a.classList.add("task"),a.id=t.split(" ").join("-"),a.addEventListener("click",(function(d){"BUTTON"!==d.target.tagName&&(j(a),function(t,n){let a=e[o.split("-").join(" ")][n][c.split("-").join(" ")][t];a.hasOwnProperty("done")&&1==a.done?a.done=!1:a.done=!0}(t,n))}));let d=document.createElement("label");d.innerText=t;let i=document.createElement("span"),r=document.createElement("button");r.textContent="Work on the task",r.addEventListener("click",(function(){!function(e){let t=document.createElement("section");t.classList.add("container"),t.addEventListener("click",(function(e){"SECTION"===e.target.tagName&&(L=0,h(t))}));let n=document.createElement("div");n.id="timer";let o=document.createElement("label");o.setAttribute("for","pomodoro-setions"),o.textContent="Number Of Pomodoro Setions";let c=document.createElement("input");c.type="number",c.id="pomodoro-number",c.name="pomodoro-number",c.defaultValue=1;let a=document.createElement("button");a.id="pomodoro-start",a.innerHTML="&#9658;",a.addEventListener("click",(function(){1!=L&&function(e,t,n){L=1;let o,c,a,d=e;o=Math.floor(d/60),c=d-60*o,a=0,t.textContent=`${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${(0).toString().padStart(2,"0")}`,function(e,t,n,o,c){let a=0,d=t,i=n;var r=setInterval((function(){0==Number(a)?(a=59,0==Number(d)?(d=59,Number(i--)):d--):a--;let e=`${i.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;o.textContent=e,"00:00:00"===e&&(clearInterval(r),o.textContent="Nice Work")}),1e3)}(0,c,o,t)}(c.value,a)})),n.append(o),n.append(a),n.append(c),t.append(n),document.body.append(t)}()})),a.append(i),a.append(d),a.append(r),document.querySelector("#tasks-container").append(a);let l=e[o.split("-").join(" ")][n][c.split("-").join(" ")][t];l.hasOwnProperty("done")&&0!=l.done&&j(a)}function N(t){let n=document.createElement("button");n.id="add-task",n.textContent="Add New Task",n.addEventListener("click",(function(){!function(t){let n=document.createElement("section");n.id="new-task-container";let a=document.createElement("section");a.id="new-task-window";let d=document.createElement("span");d.textContent="What will you do today?";let i=document.createElement("input");i.id="nameOfTask";let r=document.createElement("div");r.id="add-task-final",r.textContent="Add New Task",r.addEventListener("click",(function(){e[o.split("-").join(" ")][t][c.split("-").join(" ")][i.value]={done:!1},C(i.value,t),h(document.querySelector("#new-task-container")),h(document.querySelector("#add-task")),N(t),u(document.querySelector("#task-window"),"y")})),a.append(d),a.append(i),a.append(r),n.append(a),document.body.append(n)}(t)})),document.querySelector("#task-window").append(n)}function j(e){e.children[1].classList.toggle("marked"),e.children[0].textContent.length>0?e.children[0].textContent="":e.children[0].innerHTML="&#10003;",e.children[0].classList.toggle("marked")}!function(){let e=document.createElement("header");document.body.append(e),function(e){let t=document.createElement("img");t.src="/src/images/logo.png",t.classList.add("logo"),e.append(t)}(e),function(e){let t=document.createElement("div");t.classList.add("user-profile");let n=document.createElement("img");n.src="/src/images/logo.png",t.append(n),e.append(t)}(e)}(),function(){let e=document.createElement("main");document.body.append(e),i(e),document.querySelector(".categories-list").firstChild.click(),function(e){let t=document.createElement("Section");t.className="add",e.append(t),function(e){let t=document.createElement("div");t.classList.add("add-new"),t.textContent="+",e.append(t),t.addEventListener("click",y)}(t)}(e)}(),function(){let e=document.createElement("div");e.classList.add("options");let t=document.createElement("div");t.classList.add("add-section"),t.textContent="Section",e.append(t);let n=document.createElement("div");n.textContent="Project",n.addEventListener("click",E),e.append(n),document.querySelector(".add").append(e)}(),function(){let e=document.createElement("section");e.id="modal-container";let t=document.createElement("div");t.id="newSection-modal";let n=document.createElement("input");n.id="newSectionName",n.name="newSectionName";let o=document.createElement("label");o.setAttribute("for","newSectionName"),o.textContent="What is the new Section in your life?";let c=document.createElement("btn");c.textContent="Start New Journey",c.id="addSectionBtn",c.addEventListener("click",S),t.append(o),t.append(n),t.append(c),e.append(t),document.body.append(e)}(),document.querySelectorAll(".add-section").forEach((e=>{e.addEventListener("click",f)})),function(){let n=document.createElement("section");n.classList.add("project-modal"),n.addEventListener("click",(function(e){e.target===this&&(n.style.display="none")}));let o=document.createElement("div"),c=document.createElement("h3");c.textContent="What is your New Project's Name?";let a=document.createElement("input");a.id="new-project-name";let d=document.createElement("div");d.textContent="Start New Project",d.addEventListener("click",(function(){document.querySelector("#project-section").removeChild(document.querySelector("#project-section").lastChild),p(a.value,document.querySelector("#projects-not-done-container"),"Not Done"),e[document.querySelector("h2").textContent]["Not Done"][a.value]={},t.setItem("sectionObj",JSON.stringify(e)),g(document.querySelector("#project-section")),k(document.querySelector(".project-modal"))})),o.append(c),o.append(a),o.append(d),n.append(o),document.body.append(n)}();let L=0})();