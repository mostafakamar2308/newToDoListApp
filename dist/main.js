(()=>{let e,t=window.localStorage;t.getItem("sectionObj")?(e=JSON.parse(t.getItem("sectionObj")),console.log(e)):(e={Programming:{"Not Done":{"Productive Hero":{"Make The app":{},"Publish the app":{},"Make Money":{},"Marry ?":{}},"Social Media Limiting app":{"Make The app":{},"Publish the app":{},"Make Money":{},"Marry ?":{}}},Done:{}},"Medical School":{"Not Done":{CVS:{Anatomy:{},physiology:{},Pharmacology:{}},CNS:{Anatomy:{},physiology:{},Pathology:{}}},Done:{}},Home:{"Not Done":{"clean Bedroom":{"Make the bed":{},"Clean your desk":{},"Organize Your books":{}},cook:{"get Ingredients":{},"make Fire":{}}},Done:{}},Personal:{"Not Done":{Diary:{"10/2":{},"11/2":{}},Family:{"Talk to Sister":{},"Get mother from Grandmother":{}},Training:{"Leg Day":{},"10KM Run":{}},Friends:{"Talk to Khattab":{}}},Done:{}}},t.setItem("sectionObj",JSON.stringify(e)));let n=0;document.addEventListener("click",(function(e){!e.target.closest(".add")&&document.querySelector(".options")&&S(document.querySelector(".options")),"modal-container"===e.target.id&&S(document.querySelector("#modal-container")),"taskWindowContainer"===e.target.id&&(g(document.querySelector("#taskWindowContainer")),a(document.querySelector("main")),document.querySelector(`#${o}`).click(),document.querySelector(".add").style.display="block"),"new-task-container"===e.target.id&&g(document.querySelector("#new-task-container"))}));let o="",c="";function a(t){let n=document.createElement("section");n.classList.add("categories-list"),t.append(n),Object.keys(e).forEach((e=>{l(n,e)})),r(n),i(n,"x"),window.addEventListener("resize",i,n,"x")}function l(e,t){let n=document.createElement("div");n.textContent=`${t}`;let o=t.split(" ").join("-");n.setAttribute("id",`${o}`),d(n),e.append(n),n.addEventListener("click",s,n.path)}function r(e){let t=document.createElement("div");t.classList.add("add-section"),t.textContent="+",e.append(t),t.addEventListener("click",p)}function d(e){if(n<4){switch(n){case 0:e.classList.add("red");break;case 1:e.classList.add("orange");break;case 2:e.classList.add("yellow");break;case 3:e.classList.add("blue")}n++}else n=0,n++,e.classList.add("red")}function i(e,t){var n=e.style.overflow;if("x"==t){n&&"visible"!==n||(e.style.overflow="hidden");let t=e.clientWidth<e.scrollWidth;e.style.overflowX=1==t?"scroll":"hidden"}else if("y"==t){n&&"visible"!==n||(e.style.overflow="hidden");let t=e.clientHeight<e.scrollHeight;e.style.overflowY=1==t?"scroll":"hidden"}}function s(t){o=t.path[0].id,document.querySelector("#project-section")&&document.querySelector("#project-section").parentNode.removeChild(document.querySelector("#project-section"));let n=document.createElement("section");n.id="project-section",document.querySelector("main").append(n);let c=document.createElement("h2");c.textContent=`${t.path[0].textContent}`,n.append(c),function(t,n){let o=document.createElement("section");o.id="projects-not-done-container";let c=document.createElement("h3");e[t.path[0].textContent].hasOwnProperty("Not Done")||console.log(e),c.innerHTML="<div class='not-lol' style='display:inline-block; transform: rotate(0deg)'> &#9658; </div>Not Completed",o.append(c),o.addEventListener("click",(function(n){if(n.target.classList.contains("not-lol"))if("rotate(0deg)"==document.querySelector(".not-lol").style.transform||"translate(0px, 0px)"==document.querySelector(".not-lol").style.transform){if(gsap.to(".not-lol",{duration:.3,rotationZ:90}),0===Object.keys(e[t.path[0].textContent]["Not Done"]).length){console.log("works");let e=document.createElement("div");e.textContent="No projects Yet",document.querySelector("#projects-not-done-container").append(e)}else Object.keys(e[t.path[0].textContent]["Not Done"]).forEach((e=>{u(e,o,"Not Done")}));i(document.querySelector("main"),"y"),function(){let e=2;document.querySelectorAll(".Not-Done").forEach((t=>{e%2==0?(t.classList.add("left-notDone"),e++):(t.classList.add("right-notDone"),e++)})),gsap.from(".left-notDone",{duration:.5,opacity:0,x:-400,stagger:1,ease:"ease"}),gsap.from(".right-notDone",{duration:.5,delay:.5,x:400,opacity:0,ease:"ease",stagger:1})}()}else{gsap.to(".not-lol",{duration:.3,rotationZ:0});for(let e=0;e<document.querySelectorAll(".Not-Done").length;e++)g(document.querySelector(".Not-Done"));console.log(document.querySelector("#projects-not-done-container").lastChild.tagName),"H3"!==document.querySelector("#projects-not-done-container").lastChild.tagName&&g(document.querySelector("#projects-not-done-container").lastChild)}})),n.append(o);let a=document.createElement("section");a.id="projects-done-container";let l=document.createElement("h3");l.innerHTML="<div class='lol' style='display:inline-block; transform: rotate(0deg)'> &#9658; </div>Completed",a.append(l),e[t.path[0].textContent].hasOwnProperty("Done")||(e[t.path[0].textContent].Done={}),a.addEventListener("click",(function(n){if(n.target.classList.contains("lol"))if("rotate(0deg)"==document.querySelector(".lol").style.transform||"translate(0px, 0px)"==document.querySelector(".lol").style.transform){if(gsap.to(".lol",{duration:.3,rotationZ:90}),0===Object.keys(e[t.path[0].textContent].Done).length){let e=document.createElement("div");e.textContent="No projects Yet",document.querySelector("#projects-done-container").append(e)}else Object.keys(e[t.path[0].textContent].Done).forEach((e=>{u(e,a,"Done")}));i(document.querySelector("main"),"y"),function(){let e=2;document.querySelectorAll(".Done").forEach((t=>{e%2==0?(t.classList.add("left-Done"),e++):(t.classList.add("right-Done"),e++)})),gsap.from(".left-Done",{duration:.5,opacity:0,x:-400,stagger:1,ease:"ease"}),gsap.from(".right-Done",{duration:.5,delay:.5,x:400,opacity:0,ease:"ease",stagger:1})}()}else{gsap.to(".lol",{duration:.3,rotationZ:0});for(let e=0;e<document.querySelectorAll(".Done").length;e++)g(document.querySelector(".Done"));"H3"!==document.querySelector("#projects-done-container").lastChild.tagName&&g(document.querySelector("#projects-done-container").lastChild)}})),n.append(a)}(t,n),function(e){let t=document.createElement("div");t.textContent="Start New Project",t.classList.add("new-project"),t.addEventListener("click",f),e.append(t)}(n),i(document.querySelector("main"),"y")}function u(n,a,l){let r=document.createElement("div");r.classList.add("project"),r.classList.add(l.toString().split(" ").join("-"));let s=document.createElement("label");if(s.textContent=n,r.append(s),r.id=n.split(" ").join("-"),a.append(r)," â–º Not Completed"===r.parentNode.children[0].textContent){let n=document.createElement("span");n.textContent="---",n.addEventListener("click",(function(){!function(n){let c=document.createElement("span");c.classList.add("list");let a=document.createElement("span");a.textContent="Mark As Complete",a.addEventListener("click",(function(){var c,l;c=e[o.split("-").join(" ")]["Not Done"],l=a.parentNode.parentNode.parentNode.id.split("-").join(" "),e[o.split("-").join(" ")].Done[Object.keys(c)[Object.keys(c).indexOf(l)]]=c[l];let r=n.parentNode.textContent.indexOf("---Mark As Complete"),d=n.parentNode.textContent.slice(0,r);var i;console.log(d),function(t){let n=e[o.split("-").join(" ")].Done[t];for(let e=0;e<Object.keys(n).length;e++)n[Object.keys(n)[e]]={done:!0}}(d),"rotate(90deg)"!=document.querySelector(".lol").style.transform&&"translate(0px, 0px)"!=document.querySelector(".lol").style.transform||u(a.parentNode.parentNode.parentNode.id.split("-").join(" "),document.querySelector("#projects-done-container"),"Done"),i=a.parentNode.parentNode.parentNode.id.split("-").join(" "),delete e[o.split("-").join(" ")]["Not Done"][i],g(document.querySelector(`#${a.parentNode.parentNode.parentNode.id}`)),t.setItem("sectionObj",JSON.stringify(e))})),c.append(a),n.append(c)}(n)})),r.append(n)}d(r),r.addEventListener("click",(function(t){if("LABEL"===t.target.tagName||"DIV"===t.target.tagName){c=n;let t=getComputedStyle(r).backgroundColor;!function(){let e=document.querySelector("#project-section");gsap.to(e,{duration:1,transformOrigin:"50% 50%",rotateX:"360",opacity:"0",display:"none"})}(),setTimeout((()=>{document.querySelector("main").removeChild(document.querySelector("#project-section")),document.querySelector("main").removeChild(document.querySelector(".categories-list")),S(document.querySelector(".add"))}),1e3),function(t,n){let a=document.createElement("section");a.id="taskWindowContainer";let l=document.createElement("section");var r;l.id="task-window",a.append(l),document.querySelector("main").append(a),l.style.backgroundColor=t,r=l,gsap.from(r,{duration:1,delay:1,scale:0,opacity:0});let d=document.createElement("section");d.id="tasks-container",l.append(d),function(t){Object.keys(e[o.split("-").join(" ")][t][c.split("-").join(" ")]).forEach((e=>{h(e,t)}))}(n),E(n),i(l,"y")}(t,l)}}))}function m(){document.querySelector(".options").style.display="block"}function p(){document.querySelector("#modal-container").style.display="flex"}function y(){let n=document.querySelector("#newSectionName");document.querySelector(".categories-list").removeChild(document.querySelector(".categories-list").lastChild),l(document.querySelector(".categories-list"),n.value.charAt(0).toUpperCase()+n.value.slice(1)),r(document.querySelector(".categories-list"));let o={[n.value.charAt(0).toUpperCase()+n.value.slice(1)]:{Done:{},"Not Done":{}}};var c,a;c=e,a=o,Object.assign(c,a),t.setItem("sectionObj",JSON.stringify(c)),console.log(t),console.log(c),n.value="",S(document.querySelector("#modal-container")),i(document.querySelector(".categories-list","x"))}function f(){document.querySelector("h2").textContent,document.querySelector(".project-modal").style.display="flex"}function g(e){e.parentNode.removeChild(e)}function S(e){e.style.display="none"}function h(n,a){let l=document.createElement("div");l.classList.add("task"),l.id=n.split(" ").join("-"),l.addEventListener("click",(function(r){"BUTTON"!==r.target.tagName&&(k(l),function(n,a){let l=e[o.split("-").join(" ")][a][c.split("-").join(" ")][n];l.hasOwnProperty("done")&&1==l.done?l.done=!1:l.done=!0,t.setItem("sectionObj",JSON.stringify(e))}(n,a))}));let r=document.createElement("label");r.innerText=n;let d=document.createElement("span"),i=document.createElement("button");i.textContent="Work on the task",i.addEventListener("click",(function(){!function(e){let t=document.createElement("section");t.classList.add("container"),t.addEventListener("click",(function(e){"SECTION"===e.target.tagName&&(v=0,g(t))}));let n=document.createElement("div");n.id="timer";let o=document.createElement("label");o.setAttribute("for","pomodoro-setions"),o.textContent="Number Of Pomodoro Setions";let c=document.createElement("input");c.type="number",c.id="pomodoro-number",c.name="pomodoro-number",c.defaultValue=1;let a=document.createElement("button");a.id="pomodoro-start",a.innerHTML="&#9658;",a.addEventListener("click",(function(){1!=v&&function(e,t,n){v=1;let o,c,a,l=25*e;o=Math.floor(l/60),c=l-60*o,a=0,t.textContent=`${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${(0).toString().padStart(2,"0")}`,function(e,t,n,o,c){let a=0,l=t,r=n;var d=setInterval((function(){0==Number(a)?(a=59,0==Number(l)?(l=59,Number(r--)):l--):a--;let e=`${r.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;o.textContent=e,"00:00:00"===e&&(clearInterval(d),o.textContent="Nice Work")}),1e3)}(0,c,o,t)}(c.value,a)})),n.append(o),n.append(c),n.append(a),t.append(n),document.body.append(t)}()})),l.append(d),l.append(r),l.append(i),document.querySelector("#tasks-container").append(l);let s=e[o.split("-").join(" ")][a][c.split("-").join(" ")][n];s.hasOwnProperty("done")&&0!=s.done&&k(l)}function E(n){let a=document.createElement("button");a.id="add-task",a.textContent="Add New Task",a.addEventListener("click",(function(){!function(n){let a=document.createElement("section");a.id="new-task-container";let l=document.createElement("section");l.id="new-task-window";let r=document.createElement("span");r.textContent="What will you do today?";let d=document.createElement("input");d.id="nameOfTask";let s=document.createElement("div");s.id="add-task-final",s.textContent="Add New Task",s.addEventListener("click",(function(){e[o.split("-").join(" ")][n][c.split("-").join(" ")][d.value]={done:!1},h(d.value,n),g(document.querySelector("#new-task-container")),g(document.querySelector("#add-task")),E(n),i(document.querySelector("#task-window"),"y"),t.setItem("sectionObj",JSON.stringify(e))})),l.append(r),l.append(d),l.append(s),a.append(l),document.body.append(a)}(n)})),document.querySelector("#task-window").append(a)}function k(e){e.children[1].classList.toggle("marked"),e.children[0].textContent.length>0?e.children[0].textContent="":e.children[0].innerHTML="&#10003;",e.children[0].classList.toggle("marked")}!function(){let e=document.createElement("header");document.body.append(e),function(e){let t=document.createElement("img");t.src="/src/images/logo.png",t.classList.add("logo"),e.append(t)}(e),function(e){let t=document.createElement("div");t.classList.add("user-profile");let n=document.createElement("img");n.src="/src/images/man.png",t.append(n),e.append(t)}(e)}(),function(){let e=document.createElement("main");document.body.append(e),a(e),document.querySelector(".categories-list").firstChild.click(),function(e){let t=document.createElement("Section");t.className="add",e.append(t),function(e){let t=document.createElement("div");t.classList.add("add-new"),t.textContent="+",e.append(t),t.addEventListener("click",m)}(t)}(e)}(),function(){let e=document.createElement("div");e.classList.add("options");let t=document.createElement("div");t.classList.add("add-section"),t.textContent="Section",e.append(t);let n=document.createElement("div");n.textContent="Project",n.addEventListener("click",f),e.append(n),document.querySelector(".add").append(e)}(),function(){let e=document.createElement("section");e.id="modal-container";let t=document.createElement("div");t.id="newSection-modal";let n=document.createElement("input");n.id="newSectionName",n.name="newSectionName";let o=document.createElement("label");o.setAttribute("for","newSectionName"),o.textContent="What is the new Section in your life?";let c=document.createElement("btn");c.textContent="Start New Journey",c.id="addSectionBtn",c.addEventListener("click",y),t.append(o),t.append(n),t.append(c),e.append(t),document.body.append(e)}(),document.querySelectorAll(".add-section").forEach((e=>{e.addEventListener("click",p)})),function(){let n=document.createElement("section");n.classList.add("project-modal"),n.addEventListener("click",(function(e){e.target===this&&(n.style.display="none")}));let o=document.createElement("div"),c=document.createElement("h3");c.textContent="What is your New Project's Name?";let a=document.createElement("input");a.id="new-project-name";let l=document.createElement("div");l.textContent="Start New Project",l.addEventListener("click",(function(){document.querySelector(".not-lol").click(),u(a.value,document.querySelector("#projects-not-done-container"),"Not Done"),e[document.querySelector("h2").textContent]["Not Done"][a.value]={},t.setItem("sectionObj",JSON.stringify(e)),S(document.querySelector(".project-modal"))})),o.append(c),o.append(a),o.append(l),n.append(o),document.body.append(n)}();let v=0})();